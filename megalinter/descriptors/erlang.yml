descriptor_id: ERLANG
descriptor_type: language
file_extensions:
  - '.erl'
  - '.hrl'
install:
  apk:
    - erlang
  dockerfile:
    - |
      RUN set -xe \
        && REBAR3_DOWNLOAD_URL="https://github.com/erlang/rebar3/archive/3.14.1.tar.gz" \
        && REBAR3_DOWNLOAD_SHA256="b01275b6cbdb354dcf9ed686fce2b5f9dfdd58972ded9e970e31b9215a8521f2" \
        && curl -fSL -o rebar3-src.tar.gz "${REBAR3_DOWNLOAD_URL}" \
        && echo "${REBAR3_DOWNLOAD_SHA256}  rebar3-src.tar.gz" | sha256sum -c - \
        && mkdir -p /usr/src/rebar3-src \
        && tar -xzf rebar3-src.tar.gz -C /usr/src/rebar3-src --strip-components=1 \
        && rm -f rebar3-src.tar.gz \
        && cd /usr/src/rebar3-src \
        && HOME="${PWD}" ./bootstrap \
        && install -v ./rebar3 /usr/local/bin/
linters:
  # ELVIS
  - linter_name: elvis
    name: ERLANG_ELVIS
    linter_url: https://github.com/inaka/elvis
    linter_image_url: http://www.reactiongifs.com/wp-content/uploads/2013/01/elvis-dance.gif
    linter_rules_configuration_url: https://github.com/inaka/elvis/blob/master/README.md#configuration
    config_file_name: elvis.config
    cli_config_arg_name: ''
    examples:
      - "elvis myfile.erl"
    install:
      dockerfile:
        - |
          RUN git clone https://github.com/inaka/elvis.git && \
              cd elvis && \
              rebar3 do compile, escriptize